# Listen on all network interfaces, port 631 (modern syntax)
Listen *:631

# Keep original security settings
DefaultAuthType None
DefaultEncryption Never

# Keep original job sheet settings
JobSheets none,none

# Enable job history for easier troubleshooting
PreserveJobHistory Yes
MaxJobs 500

# Keep original browsing/sharing settings
BrowseLocalProtocols dnssd
DefaultShared Yes

# --- Original Access Control Rules (Unchanged) ---
<Location />
  Order allow,deny
  Allow localhost
  Allow 192.168.1.0/24
</Location>

<Location /admin>
  Order allow,deny
  Allow localhost
  Allow 192.168.1.0/24
</Location>

<Location /jobs>
  Order allow,deny
  Allow localhost
  Allow 192.168.1.0/24
</Location>

<Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs \
        Set-Job-Attributes Create-Job-Subscription Renew-Subscription \
        Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job \
        Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job \
        CUPS-Get-Document>
  Order allow,deny
  Allow localhost
  Allow 192.168.1.0/24
</Limit>